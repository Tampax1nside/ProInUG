@using ProInUG.BlazorUI.Dto
@using InputType = MudBlazor.InputType

<MudDialog>
    <TitleContent>
        <MudText Typo="Typo.h6">
            <MudIcon Icon="@Icons.Material.Filled.Edit" Class="mr-3 mb-n1"/>
            @MudDialog?.Title
        </MudText>
    </TitleContent>
    <DialogContent>
        @if (!string.IsNullOrEmpty(TextContent))
        {
            <MudText Align="Align.Left">@TextContent</MudText>
        }
        <EditForm id="c-form" Model="ChangePasswordViewModel" OnValidSubmit="Submit">
            <DataAnnotationsValidator/>
            <!-- name -->
            <MudTextField Value="@ChangePasswordViewModel.User.Name" Label="User Name" ReadOnly="true" Class="mb-4"/>
            <!-- password -->
            <MudTextField id="c-password" Label="New Password" Required="true" Variant="Variant.Outlined" Margin="Margin.Dense"
                          @bind-Value="ChangePasswordViewModel.Password" For="(() => ChangePasswordViewModel.Password)" InputType="InputType.Password" Class="mt-3"/>
        </EditForm>
    </DialogContent>

    <DialogActions>
        <!-- cancel -->
        <MudButton ButtonType="ButtonType.Button" Variant="Variant.Text" Color="Color.Error" Class="ml-auto"
                   @onclick="@(Cancel)">
            Отмена
        </MudButton>
        <!-- submit -->
        <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Text" form="c-form"
                   Color="Color.Primary" Class="ml-1">
            @SubmitButtonName
        </MudButton>
    </DialogActions>
</MudDialog>