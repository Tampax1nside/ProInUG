@using ProInUG.BlazorUI.Dto
@using InputType = MudBlazor.InputType

<MudDialog>
    <TitleContent>
        <MudText Typo="Typo.h6">
            <MudIcon Icon="@Icons.Material.Filled.Edit" Class="mr-3 mb-n1" />
            @MudDialog?.Title
        </MudText>
    </TitleContent>
    <DialogContent>
        @if (!string.IsNullOrEmpty(TextContent))
        {
            <MudText Align="Align.Left">@TextContent</MudText>   
        }
        <EditForm id="c-form" Model="User" OnValidSubmit="Submit">
            <DataAnnotationsValidator/>
            <!-- name -->
            <MudTextField id="c-name" Label="Name" Required="true" Variant="Variant.Outlined" Margin="Margin.Dense"
                          @bind-Value="User.Name" For="(() => User.Name)" Class="mt-3"/>
            <!-- password -->
            <MudTextField id="c-password" Label="Password" Required="true" Variant="Variant.Outlined" Margin="Margin.Dense"
                          @bind-Value="User.Password" For="(() => User.Password)" InputType="InputType.Password" Class="mt-3"/>
            <!-- user role -->
            <MudSelect T="@Roles" Variant="Variant.Outlined" Margin="Margin.Dense"
                       @bind-Value="User.Role" Class="mt-5">
                @foreach (var value in Enum.GetValues<Roles>())
                {
                    <MudSelectItem Value="@value"/>
                }
            </MudSelect>
            <!-- description -->
            <MudTextField id="c-description" Label="Description" Required="false" Variant="Variant.Outlined" Margin="Margin.Dense"
                          @bind-Value="User.Description" For="(() => User.Description)" Class="mt-5 mb-5"/>
        </EditForm>
    </DialogContent>
    
        <DialogActions>
                <!-- cancel -->
                <MudButton ButtonType="ButtonType.Button" Variant="Variant.Text" Color="Color.Error" Class="ml-auto"
                           @onclick="@(Cancel)">
                    Отмена
                </MudButton>
                <!-- submit -->
                <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Text" form="c-form"
                           Color="Color.Primary" Class="ml-1">
                    @SubmitButtonName
                    </MudButton>
            </DialogActions>
</MudDialog>