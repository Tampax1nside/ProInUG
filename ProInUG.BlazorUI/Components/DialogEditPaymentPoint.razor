@using ProInUG.BlazorUI.Models

<MudDialog>
    <TitleContent>
        <MudText Typo="Typo.h6">
            <MudIcon Icon="@Icons.Material.Filled.Edit" Class="mr-3 mb-n1" />
            @MudDialog?.Title
        </MudText>
    </TitleContent>
    <DialogContent>
        @if (!string.IsNullOrEmpty(TextContent))
        {
            <MudText Align="Align.Left">@TextContent</MudText>   
        }
        <EditForm id="form" Model="@PaymentPoint" OnValidSubmit="@(Submit)">
            <DataAnnotationsValidator/>
            <!-- device url -->
            <MudTextField id="device-url" Label="Device Url" Required="true" Variant="Variant.Outlined" Margin="Margin.Dense"
                          @bind-Value="PaymentPoint.DeviceUri" For="(() => PaymentPoint.DeviceUri)" Class="mb-3"/>
            <!-- is enabled -->
            <MudCheckBox @bind-Checked="@PaymentPoint.IsEnable" Label="Enable" Class="mb-3"></MudCheckBox>
            <!-- payment address -->
            <MudTextField Label="Payment address" Required="true" Variant="Variant.Outlined" Margin="Margin.Dense"
                          @bind-Value="PaymentPoint.PaymentAddress" For="(() => PaymentPoint.PaymentAddress)" Class="mb-8"/>
            <!-- operator name -->
            <MudTextField Label="Operator name" Required="true" Variant="Variant.Outlined" Margin="Margin.Dense"
                          @bind-Value="PaymentPoint.OperatorName" For="(() => PaymentPoint.OperatorName)" Class="mb-4"/>
            <!-- nomenclature name -->
            <MudTextField Label="Nomenclature name" Required="true" Variant="Variant.Outlined" Margin="Margin.Dense"
                          @bind-Value="PaymentPoint.NomenclatureName" For="(() => PaymentPoint.NomenclatureName)" Class="mb-8"/>
            <!-- taxation type -->
            <MudSelect T="@TaxationType" Variant="Variant.Outlined" Margin="Margin.Dense"
                       @bind-Value="PaymentPoint.TaxationType" Class="mb-3">
                @foreach (var value in Enum.GetValues<TaxationType>())
                {
                    <MudSelectItem Value="@value"/>
                }
            </MudSelect>
            <!-- taxation type -->
            <MudSelect T="@TaxRate" Variant="Variant.Outlined" Margin="Margin.Dense"
                       @bind-Value="PaymentPoint.TaxRate" Class="mb-8">
                @foreach (var value in Enum.GetValues<TaxRate>())
                {
                    <MudSelectItem Value="@value"/>
                }
            </MudSelect>
        </EditForm>
    </DialogContent>

    <DialogActions>
        <!-- cancel -->
        <MudButton ButtonType="ButtonType.Button" Variant="Variant.Text" Color="Color.Error" Class="ml-auto"
                   @onclick="@(Cancel)">
            Отмена
        </MudButton>
        <!-- submit -->
        <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Text" form="form"
                   Color="Color.Primary" Class="ml-1">
            @SubmitButtonName
            </MudButton>
    </DialogActions>
</MudDialog>